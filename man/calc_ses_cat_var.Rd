% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/se_functions.R
\name{calc_ses_cat_var}
\alias{calc_ses_cat_var}
\title{Weighted proportions and SEs for a categorical outcome}
\usage{
calc_ses_cat_var(kpop_object, poll, outcome_var, sample_size = NULL)
}
\arguments{
\item{kpop_object}{Object returned by \code{\link{kpop}} or
\code{\link{kbal}}.}

\item{poll}{Data frame of respondent data containing \code{outcome_var}.
\code{nrow(poll)} must equal the number of sample units (the full sample
data frame, not pre-filtered â€” NA filtering is handled internally).}

\item{outcome_var}{Quoted column name of the categorical outcome variable.}

\item{sample_size}{Optional override passed to
\code{\link{calc_linearized_var}}. Defaults to the number of non-NA
respondents for this variable.}
}
\value{
Data frame with columns: \code{level}, \code{weighted_mean},
  \code{linearized_SE}, \code{fixed_SE}.
}
\description{
One-hot encodes a categorical outcome and applies both the
  linearized and fixed-weight SE estimators to each level. Rows with
  \code{NA} in the outcome are dropped automatically; the correct rows of
  the kernel SVD and constraint matrices are selected via \code{row_idx}.
}
\seealso{
\code{\link{calc_linearized_var}}, \code{\link{kpop_summary}}
}
